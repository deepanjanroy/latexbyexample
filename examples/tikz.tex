%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Welcome to Overleaf --- just edit your LaTeX on the left,
% and we'll compile it for you on the right. If you give
% someone the link to this page, they can edit at the same
% time. See the help menu above for more info. Enjoy!
%
% Note: you can export the pdf to see the result at full
% resolution.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Flipping a coin
% Author: cis
\documentclass[border=10pt,varwidth]{standalone}
%%%<
\usepackage{verbatim}
%%%>
\begin{comment}
:Title: Tree of probabilities - flipping a coin
:Tags: Trees;Nodes and shapes;Mathematics
:Author: cis
:Slug: coin-flipping

In mathematics, specifically in statistics, coin-flipping is an introductory
example of the complexities of probability and statistics.

This example was written by cis on TikZ.de.
http://tikz.de/baum/
\end{comment}
\usepackage{tikz}
\usetikzlibrary{calc, shapes, backgrounds}
\usepackage{amsmath, amssymb}
\pagecolor{olive!50!yellow!50!white}
\begin{document}
\tikzset{
  head/.style = {fill = orange!90!blue,
                 label = center:\textsf{\Large H}},
  tail/.style = {fill = blue!70!yellow, text = black,
                 label = center:\textsf{\Large T}}
}
\begin{tikzpicture}[
    scale = 1.5, transform shape, thick,
    every node/.style = {draw, circle, minimum size = 10mm},
    grow = down,  % alignment of characters
    level 1/.style = {sibling distance=3cm},
    level 2/.style = {sibling distance=4cm}, 
    level 3/.style = {sibling distance=2cm}, 
    level distance = 1.25cm
  ]
  \node[fill = gray!40, shape = rectangle, rounded corners,
    minimum width = 6cm, font = \sffamily] {Coin flipping} 
  child { node[shape = circle split, draw, line width = 1pt,
          minimum size = 10mm, inner sep = 0mm, font = \sffamily\large,
          rotate=30] (Start)
          { \rotatebox{-30}{H} \nodepart{lower} \rotatebox{-30}{T}}
   child {   node [tail] (A) {}
     child { node [head] (B) {}}
     child { node [tail] (C) {}}
   }
   child {   node [tail] (D) {}
     child { node [head] (E) {}}
     child { node [tail] (F) {}}
   }
  };

  % Filling the root (Start)
  \begin{scope}[on background layer, rotate=30]
    \fill[head] (Start.base) ([xshift = 0mm]Start.east) arc (0:180:5mm)
      -- cycle;
    \fill[tail] (Start.base) ([xshift = 0pt]Start.west) arc (180:360:5mm)
      -- cycle;
  \end{scope}

  % Labels
  \begin{scope}[nodes = {draw = none}]
    \path (Start) -- (A) node [near start, left]  {$0.5$};
    \path (A)     -- (B) node [near start, left]  {$0.5$};
    \path (A)     -- (C) node [near start, right] {$0.5$};
    \path (Start) -- (D) node [near start, right] {$0.5$};
    \path (D)     -- (E) node [near start, left]  {$0.5$};
    \path (D)     -- (F) node [near start, right] {$0.5$};
    \begin{scope}[nodes = {below = 11pt}]
      \node [name = X] at (B) {$0.25$};
      \node            at (C) {$0.25$};
      \node [name = Y] at (E) {$0.25$};
      \node            at (F) {$0.25$};
    \end{scope}
    \draw[densely dashed, rounded corners, thin]
      (X.south west) rectangle (Y.north east);
  \end{scope}
\end{tikzpicture}
\end{document}